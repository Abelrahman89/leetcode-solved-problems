package com.example.pathselect;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.io.*;

public class DirectoryChooserUI implements ActionListener {
    private JFrame frame;
    private JButton sqlBttnPath, javaBttnPath, executeBttn;
    private JTextField sqlPathField, javaPathField;

    public DirectoryChooserUI() {
        frame = new JFrame("Directory Chooser");
        frame.setLayout(new GridLayout(3, 2));

        sqlBttnPath = new JButton("Choose SQL Directory");
        sqlBttnPath.addActionListener(this);
        sqlPathField = new JTextField();
        sqlPathField.setEditable(false);

        javaBttnPath = new JButton("Choose Java Directory");
        javaBttnPath.addActionListener(this);
        javaPathField = new JTextField();
        javaPathField.setEditable(false);

        executeBttn = new JButton("Execute");
        executeBttn.addActionListener(this);

        frame.add(sqlBttnPath);
        frame.add(sqlPathField);
        frame.add(javaBttnPath);
        frame.add(javaPathField);
        frame.add(executeBttn);

        frame.setSize(500, 150);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setVisible(true);
    }

    public void actionPerformed(ActionEvent event) {
        if (event.getSource() == sqlBttnPath) {
            JFileChooser chooser = new JFileChooser();
            chooser.setCurrentDirectory(new File("."));
            chooser.setDialogTitle("Select SQL Directory");
            chooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
            int result = chooser.showOpenDialog(frame);
            if (result == JFileChooser.APPROVE_OPTION) {
                File selectedDir = chooser.getSelectedFile();
                sqlPathField.setText(selectedDir.getAbsolutePath());
            }
        } else if (event.getSource() == javaBttnPath) {
            JFileChooser chooser = new JFileChooser();
            chooser.setCurrentDirectory(new File("."));
            chooser.setDialogTitle("Select Java Directory");
            chooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
            int result = chooser.showOpenDialog(frame);
            if (result == JFileChooser.APPROVE_OPTION) {
                File selectedDir = chooser.getSelectedFile();
                javaPathField.setText(selectedDir.getAbsolutePath());
            }
        } else if (event.getSource() == executeBttn) {
            String sqlDirPath = sqlPathField.getText();
            String javaDirPath = javaPathField.getText();
            // Perform execution logic here using the selected directory paths
        }
    }

    public static void main(String[] args) {
        new DirectoryChooserUI();
    }
}
